各作品のBGMにおけるバグとパッチ

主にAliceConvの出力結果でループ長不整合から異常な長さになるBGMを中心に纏めました。
かつて存在したUNIT-BASEのREITHUSが纏めた情報も参考にしています。
但しMIDI化の為の情報は考慮していません(AliceConvの目標ではないからです)。

1. Rance −光をもとめて−

12曲目 地下通路のシーン
機種: PC-9801, X68000, PC-88VA (Disk D), FM TOWNS
現象: タイミングずれの蓄積
原因: トラック2が短すぎる
対処: トラック2末尾に付点4分休符を追加する。

なおPC-88VA版のDisk Aのデータは曲の長さ自体を伸ばして調整している
PC-8801SR版はトラック2はデータが使われていない。
この曲はRanceIIにも含まれており、同様のバグがある。

2. Intruder −桜屋敷の探索−

3曲目
機種: FM TOWNS
現象: タイミングずれの蓄積
原因: トラック3が短い
対処: トラック3にある2分音符4個のうち2,4個目の長さを16分延ばす

なお、PC-8801SR版にはもっと深刻な問題があるがPC88toVGMで解決させている。

3. CRESCENT MOON がぁる

6曲目
機種: PC-9801, PC-88VA
現象: タイミングずれの蓄積
原因: トラック6が長い
対処: トラック6末尾のb-の音符を2分から付点4分に切り詰める。

4. RanceII −反逆の少女たち−

12曲目 地下通路のシーン
機種: PC-9801, X68000, FM TOWNS, PC-8801SR
現象: タイミングずれの蓄積
原因: トラック2が短すぎる
対処: トラック2末尾に付点4分休符を追加する。

Ranceから引き継いだバグで、このままALICEの館CDに再録されている。

5. Dream Program System -SG-

システムディスク 2曲目 アリスのテーマ
機種: PC-88VA
現象: タイミングずれの蓄積
原因: トラック6が短すぎる
対処: トラック6の32分休符3箇所を全て16分休符にする。

Fahnen Fliegen 1曲目
機種: FM TOWNS
現象: 欠落
原因: トラック4の演奏終了間際で2音欠けている
対処: トラック4に2音挿入する。

6. 闘神都市

3曲目 雑魚戦闘
機種: PC-9801, FM TOWNS
現象: 欠落
原因: トラック6の末尾で1小節分と少々欠けている
対処: トラック6に末尾で1小節分と4分休符を追加。

3曲目 雑魚戦闘
機種: X68000
現象: タイミングずれの蓄積
原因: トラック6のブロック指定の誤り
対処: トラック6のブロック指定を修正

3曲目 雑魚戦闘
機種: PC-9801 (MAKO2)
現象: 欠落
原因: トラック6の末尾で1小節分と少々欠けている
対処: トラック6のブロック指定を修正

4曲目 迷宮1
機種: X68000
現象: 過剰
原因: トラック1でデータが過剰
対処: トラック1の不要なデータを0x20(スペース)で潰す。

6曲目 迷宮2
機種: X68000
現象: 過剰
原因: トラック1でデータが過剰
対処: トラック1の不要なデータを0x20(スペース)で潰す。

9曲目 勝利
機種: PC-9801, FM TOWNS, X68000, PC-9801 (MAKO2)
現象: タイミングずれの蓄積
原因: トラック5が長い
対処: トラック5先頭の8分休符を16分休符にする。

15曲目 Hシーン
機種: PC-9801, FM TOWNS, X68000, PC-9801 (MAKO2)
現象: 無音
原因: トラック6の音量が0になっている
対処: トラック6の音量を修正する

21曲目 迷宮8
機種: FM TOWNS
現象: 欠落
原因: トラック2の末尾で4小節欠けている。
対処: トラック2の末に4小節挿入する。

7. RanceIII −リーザス陥落−

1曲目 CITY
機種: 全機種 (PC-9801版SDPSアップデート含む)
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック4(X68000版はトラック8も)のループバック先を6から8に変更

27曲目 ノス
機種: 全機種 (PC-9801版SDPSアップデート含む)
現象: タイミングずれの蓄積
原因: トラック6が短い
対処: トラック6の最初の休符を20/192から24/192に変更

8. Dream Pragram System -SG- set 3

Rabbit -P4P- 3曲目 川
機種: FM TOWNS
現象: 過剰
原因: トラック1でデータが過剰
対処: トラック1の不要なデータ削除、一部音程修正

卒業: 2曲目
機種: PC-9801, FM TOWNS, PC-88VA
現象: タイミングずれの蓄積
原因: トラック5が長い
対処: トラック5先頭の連続する休符 16分と4分の4分相当を削減

卒業: 2曲目
機種: PC-9801, X68000, FM TOWNS, PC-88VA
現象: タイミングずれの蓄積
原因: トラック5が長い、MML上でo4をr4と誤ったか?
対処: トラック5先頭の連続する休符 r16 r4の表記をr16 o4に変更

9. Dr.STOP!

13曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック6のループバック先を0から1に変更

10. ALICEの館II

12曲目
→Rance 12曲目と同じ

19曲目
→Intruder −桜屋敷の探索− 3曲目と同じ

31曲目 CRESCENT MOONがぁる 10曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック5のループバック先を0から1に変更

39曲目 あぶない天狗伝説 夜のお散歩
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック2のトリルの処理で音長が+1され、1ループに2回通るので合計+2となる。(MAKO1→MAKO2変換のバグ)
対処: トラック2のトリル直前の音長を-1する。同じブロックなので相殺される。

67曲目 Rance2 思いで話
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック2のトリルの処理で音長が+1される。(MAKO1→MAKO2変換のバグ)
対処: トラック2のトリル直前の音長を-1する。同じブロックなので相殺される。

75曲目 Dream Program System -SG- Fahnen Fliegen 1曲目
機種: 全機種
現象: 過剰
原因: トラック2に不要な音が入っている
対処: トラック2の不要な音を削除する

81曲目
→闘神都市 PC-9801 (MAKO2) 3曲目 雑魚戦闘と同じ

87曲目
→闘神都市 PC-9801 (MAKO2) 9曲目 勝利と同じ

93曲目
→闘神都市 PC-9801 (MAKO2) 15曲目 Hシーンと同じ

110曲目
→RanceIII −リーザス陥落− 1曲目 CITYと同じ

136曲目
→RanceIII −リーザス陥落− 27曲目 ノスと同じ

148曲目 Dream Pragram System -SG- set 3 しんこんさんものがたり 3曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック4,5の6連符の処理で音長が+2され、該当箇所が共に4箇所あるので+8となる。(MAKO1→MAKO2変換のバグ)
対処: 各連符後の長音に-2をして相殺

152曲目 Dream Pragram System -SG- set 3 卒業 4曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック2, 6の6連符の処理で音長が-2される。(MAKO1→MAKO2変換のバグ)
対処: 各連符前の長音に+2をして相殺

165曲目 
→Dr.STOP! 13曲目と同じ

176曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック5のループバック先を0から2に変更

ALICEの館II全体でみるとMAKO2フォーマットに3連符6連符絡みの欠陥があることが伺えます。
これは1小節の分解能に起因しており、
MAKO1というかPC-88VA SOUND BIOSが1/192であるのに対し、
MAKO2は1/256であるためです。

MAKO2を全面的に書き換える予定があるので内部分解能を3の倍数にして解消するつもりでしたが、
DPS全部で同一曲のタイミングを修正したバージョンがあるのでオプション処理を考えています。

11. DALK

19曲目 永遠に続く戦い
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック2のループバック先を1から2に変更

丁度1フレーズのずれです。

12. ぷろ すちゅーでんとG

3曲目 漫画・カラオケ・女
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を8から9に変更

6曲目 発進！金斗雲ロボ
機種: 全機種
現象: トラック5で1ループ毎に2オクターブ下がる
原因: 1オクターブ下げの後の戻し忘れ(このブロックを1ループに2回通過)
対処: 該当ブロックと組になるブロック群の末尾に1オクターブ上げを挿入

13曲目 迫りくる驚異
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック3で同じブロックを過剰に繰り返し
対処: トラック3後半での繰り返しを除去

13. RanceIV 教団の遺産

3曲目
機種: 全機種
現象: 無音
原因: トラック8の音量が0になっている
対処: トラック8の音量を修正する

5曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック6の音長が他のトラックに整合しない(トラック6は低音をタイで延々と鳴らしてづけているだけ)。
対処: トラック6の音長を調整

7曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を5から9に変更

13曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック6のループバック先を0から1に変更

17曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を5から8に変更

20曲目
機種: 全機種
現象: トラック8で1ループ毎に1オクターブ下がる
原因: 1オクターブ上げ下げの不整合
対処: 特定のブロックでオクターブを絶対指定 (ALICEの館3に合わせる)。

27曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を18から19に変更

27曲目
機種: FM TOWNS ブートディスク R4_27_P9.SND
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を10から11に変更

29曲目
機種: 全機種
現象: 無音
原因: トラック8の音量が0になっている
対処: トラック8の音量を修正する

40曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック8が長い
対処: トラック8の休符を詰める

14. AmbivalenZ −二律背反−

4曲目 美術館
機種: 全機種
現象: トラック7で1ループ毎に1オクターブ上がる
原因: 1オクターブ上げ下げの不整合
対処: トラック7で先頭の休符をブロック2からブロック1に移動、ループバック先を3から2に変更。

15. 闘神都市II

3曲目 雑魚戦闘
→闘神都市 PC-9801 (MAKO2) 3曲目 雑魚戦闘と同じ

10曲目 エンディング
機種: 全機種
現象: 無音
原因: トラック8の音量が微小になっている
対処: トラック8の音量を修正する

29曲目 晴れの日の出来事
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を5から8に変更

16. ALICEの館3

48曲目
→DALK 19曲目 永遠に続く戦いと同じ

52曲目
→ぷろ すちゅーでんとG 3曲目 漫画・カラオケ・女と同じ

55曲目
→ぷろ すちゅーでんとG 6曲目 発進！金斗雲ロボと同じ

62曲目
→ぷろ すちゅーでんとG 13曲目 迫りくる驚異と同じ

82曲目
→RanceIV 教団の遺産 3曲目と同じ

84曲目
→RanceIV 教団の遺産 5曲目と同じ

86曲目
→RanceIV 教団の遺産 7曲目と同じ

92曲目
→RanceIV 教団の遺産 13曲目と同じ

96曲目 RanceIV 教団の遺産 17曲目
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を4から7に変更

106曲目
→RanceIV 教団の遺産 27曲目と同じ

107曲目 RanceIV 教団の遺産 27曲目 FM TOWNS ブートディスク版
機種: 全機種
現象: タイミングずれの蓄積
原因: ループバック先指定の誤り
対処: トラック1のループバック先を9から10に変更

111曲目
→RanceIV 教団の遺産 40曲目と同じ

114曲目
→RanceIV 教団の遺産 29曲目と同じ

133曲目 AmbivalenZ −二律背反− 4曲目 美術館
機種: 全機種
現象: タイミングずれの蓄積
原因: オリジナルからのバグフィックス失敗
対処: トラック1で先頭の休符をブロック1からブロック0に移動

173曲目
→闘神都市II 10曲目 エンディングと同じ

182曲目
→闘神都市II 29曲目 晴れの日の出来事と同じ

17.学園KING

13曲目 RUN & RUN
機種: 全機種
現象: タイミングずれの蓄積
原因: トラック5が長い
対処: トラック5内の音長を調整
